<!DOCTYPE html>
<html>
<head>
    <meta charset="utf8">
    <title>task18</title>
    <style type="text/css">
        #boxes div {
            background-color: red;
            margin: 10px;
            padding: 5px;
            float: left;
            text-align: center;
        }
    </style>
</head>
<body>
<div>
    <input type="text" id="num" />
    <button id="leftin">左侧入</button>
    <button id="rightin">右侧入</button>
    <button id="leftout">左侧出</button>
    <button id="rightout">右侧出</button>
</div>
<div id="boxes"></div>
<script type="text/javascript">
    var $ = function (e) {
        return document.querySelector(e);
    };
    var data = [1,2,3,4,5,6];
    render();

    function getInputValue() {
        if (/^\d+$/.test($('#num').value)) {
            return $('#num').value
        } else {
            alert('输入错误');
            return;
        }
    }

    function render() {
        $('#boxes').innerHTML = data.map(function (e) {
            return '<div>' + e + '</div>';
        }).join('');
    }

    $('#leftin').onclick = function () {
        var val = getInputValue();
        if (val){
            data.unshift(val);
            render();
        }
    }
    $('#rightin').onclick = function () {
        var val = getInputValue();
        if (val){
            data.push(val);
            render();
        }
    }
    $('#leftout').onclick = function () {
        var result = data.shift();
        alert(result);
        render();
    }
    $('#rightout').onclick = function () {
        var result = data.pop();
        alert(result);
        render();
    }

    $('#boxes').onclick = function(e){
        var targetNode = e.target || e.srcElement;
        var index = [].indexOf.call($('#boxes').children,targetNode);
        data.splice(index, 1);
        render();
    };

</script>
</body>
</html>